<!DOCTYPE html>
<html>
    <head>
        {% include header.html %}
        {% include mathjax.html %}
        <link rel="stylesheet" href="{{site.url}}/styles/font.css">
        <link rel="stylesheet" media="screen and (min-width: 600px)" href="{{site.url}}/styles/post.css">
        <link rel="stylesheet" media="screen and (max-width: 600px)" href="{{site.url}}/styles/post_mobile.css">
        <link rel="stylesheet" media="screen and (min-width: 600px)" href="{{site.url}}/styles/navigatebar.css">
        <link rel="stylesheet" media="screen and (max-width: 600px)" href="{{site.url}}/styles/navigatebar_mobile.css">
        <link rel="stylesheet" href="{{site.url}}/theme/highlight.css">
    </head>
    <body>
        {% include navigatebar.html %}
        <div class="content-area">
            <div class="title">
                {{ page.title }}
            </div>
            <div class="category-area">
                「{% for category in page.categories %}
                <a href="{{ site.url }}/tags.html#{{ category }}">
                    <div class="category">
                        {{ category }}
                    </div>
                </a>
                {% endfor %}」
            </div>
            <div class="char-counter">
                浏览<span data-hk-page="current"> - </span>次 字数{{ page.content | strip_html | strip_newlines | remove: " " | size }} {{ page.date | date: "%Y-%m-%d" }}
            </div>
            <div class="content">
                {{ content }}
            </div>
        </div>


<!--   gitalk       -->

<div class="comment">
    <div id="gitalk-container"></div>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
    <script src="https://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.min.js"></script>
    <script>
      //去除尾部匹配正则数组的字符串  
      String.prototype.trimEnd = function(regStr)  
      {  
          var result = this;
          if(regStr==undefined||regStr==null||regStr=="")  
          {    
              return result;
          }
          var array = regStr.split(',');

          if(array.length > 0){
               
              var c = array.shift();
              var str= this;
              var i = str.length;  
              var rg = new RegExp(c);
              var matchArr = str.match(rg);

              if(matchArr != undefined && matchArr != null && matchArr.length > 0)
              {
                var matchStr = matchArr[0].replace(/\\/g, "\\\\").replace(/\*/g, "\\*")
                                          .replace(/\+/g, "\\+").replace(/\|/g, "\\|")
                                          .replace(/\{/g, "\\{").replace(/\}/g, "\\}")
                                          .replace(/\(/g, "\\(").replace(/\)/g, "\\)")
                                          .replace(/\^/g, "\\^").replace(/\$/g, "\\$")
                                          .replace(/\[/g, "\\[").replace(/\]/g, "\\]")
                                          .replace(/\?/g, "\\?").replace(/\,/g, "\\,")
                                          .replace(/\./g, "\\.").replace(/\&/g, "\\&");
                matchStr = matchStr + '$';
                result = str.replace(new RegExp(matchStr), "");
              }
              
              if(array.length > 0){
                  return result.trimEnd(array.join())
              }
              else{
                  return result; 
              } 
          } 
      };
    </script>


    <script>
  var gitalk = new Gitalk({
    clientID: 'dfb484c6686f8b043e46',
    clientSecret: 'ba367201ac9b6166891132c90d92768deb0665f9',
    repo: 'yummymath.github.io',
    owner: 'yummymath',
    admin: 'yummymath'.split(','),
    pagerDirection: '{{theme.gitalk.pagerDirection}}',
    // facebook-like distraction free mode
    distractionFreeMode: false,
    id: md5(location.href.trimEnd('{{theme.gitalk.hreftrimend}}'))
        })
    gitalk.render('gitalk-container')
    </script> 
    
    </div>


        <div class="nickname">
            MathXiaoZhu
        </div>

    </body>
</html>
